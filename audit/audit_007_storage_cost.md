# AI 审计方案 - AccessControl 存储与费用管理

## 已知前提
- 根据 `pk.md`，与 `RateLimiter` 相关的数值操作已经审核通过。本方案仅关注 `BoxMap` 带来的存储成本。

## 代码审查要点
1. **单项存储开销**
   - 计算 `BoxMap` 中每条 `(role, address)` 映射占用的字节数，结合 Algorand 每字节最低余额评估成本。
   - 检查 `_grant_role` 与 `_revoke_role` 在失败或异常时是否可能留下遗留数据。
2. **大规模使用场景**
   - 分析批量授予或撤销角色时的最坏情况，确认是否存在因余额不足导致交易失败的风险。
   - 评估是否应限制可创建的角色数量或提供批量清理机制。
3. **潜在 DoS 风险**
   - 若任何用户都能创建新角色，攻击者可能通过大量操作提高存储需求。检查合约是否对角色创建和授予设置权限或费用限制。
