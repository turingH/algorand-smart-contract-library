# AI 审计方案 - AccessControl 角色 ID 设计

## 已知前提
- `pk.md` 中未涉及角色 ID 生成，但已确认其他数值逻辑安全。此处侧重分析 16 字节哈希截断可能带来的风险。

## 代码审查要点
1. **哈希截断策略**
   - 查看 `AccessControl` 及其示例合约中角色 ID 的生成方式，确认均使用 `keccak256` 后截取前 16 字节。
   - 结合系统需要的角色数量，估算碰撞概率，判断是否需更长标识。
2. **重复定义检测**
   - 搜索代码库中所有角色常量和 ABI 方法，检查是否存在不同名称生成相同 ID 的情况。
   - 若支持动态创建角色，评估是否需要记录原始字符串或其他辅助数据以避免冲突。
3. **文档与示例**
   - 核对文档中的角色创建示例，确保明确说明哈希截断和潜在碰撞问题。
